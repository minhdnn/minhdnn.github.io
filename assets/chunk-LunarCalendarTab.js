import{r as f,j as n,u as L,f as F,R as A,m as C,d as R}from"./app.js";import{S}from"./chunk-Section.js";const{floor:m,sin:y,PI:w}=Math,Y=(t,a,e)=>{const c=m((14-a)/12),s=e+4800-c,l=a+12*c-3;let r=t+m((153*l+2)/5)+365*s+m(s/4)-m(s/100)+m(s/400)-32045;return r<2299161&&(r=t+m((153*l+2)/5)+365*s+m(s/4)-32083),r},P=t=>{let a,e,c;t>2299160?(a=t+32044,e=m((4*a+3)/146097),c=a-m(e*146097/4)):(e=0,c=t+32082);const s=m((4*c+3)/1461),l=c-m(1461*s/4),r=m((5*l+2)/153),o=l-m((153*r+2)/5)+1,d=r+3-12*m(r/10),i=e*100+s-4800+m(r/10);return{day:o,month:d,year:i}},W=t=>{const a=t/1236.85,e=a*a,c=e*a,s=Math.PI/180;let l=241502075933e-5+29.53058868*t+1178e-7*e-155e-9*c;l=l+33e-5*y((166.56+132.87*a-.009173*e)*s);const r=359.2242+29.10535608*t-333e-7*e-347e-8*c,o=306.0253+385.81691806*t+.0107306*e+1236e-8*c,d=21.2964+390.67050646*t-.0016528*e-239e-8*c;let i=(.1734-393e-6*a)*y(r*s)+.0021*y(2*s*r);i=i-.4068*y(o*s)+.0161*y(s*2*o),i=i-4e-4*y(s*3*o),i=i+.0104*y(s*2*d)-.0051*y(s*(r+o)),i=i-.0074*y(s*(r-o))+4e-4*y(s*(2*d+r)),i=i-4e-4*y(s*(2*d-r))-6e-4*y(s*(2*d+o)),i=i+.001*y(s*(2*d-o))+5e-4*y(s*(2*o+r));const u=x=>{let g;const h=x*x,p=h*x;return x<-11?g=.001+839e-6*x+2261e-7*h-845e-8*p-81e-9*x*p:g=-.00278+.00265*x+.00262*h,g};return l+i-u(a)},_=t=>{const a=(t-2451545)/36525,e=a*a,c=w/180,s=357.5291+35999.0503*a-1559e-7*e-48e-8*a*e,l=280.46645+36000.76983*a+3032e-7*e;let r=(1.9146-.004817*a-14e-6*e)*Math.sin(c*s);r=r+(.019993-101e-6*a)*Math.sin(c*2*s)+29e-5*Math.sin(c*3*s);let o=l+r;return o=o*c,o=o-w*2*m(o/(w*2)),o},M=(t,a)=>m(_(t-.5-a/24)/w*6),N=(t,a)=>m(W(t)+.5+a/24),D=(t,a)=>{const e=Y(31,12,t)-2415021,c=m(e/29.530588853);let s=N(c,a);return M(s,a)>=9&&(s=N(c-1,a)),s},O=(t,a)=>{const e=m((t-2415021076998695e-9)/29.530588853+.5);let c=0,s=1,l=M(N(e+s,a),a);do c=l,s++,l=M(N(e+s,a),a);while(l!=c&&s<14);return s-1},z=(t,a,e,c)=>{const s=Y(t,a,e),l=m((s-2415021076998695e-9)/29.530588853);let r=N(l+1,c);r>s&&(r=N(l,c));let o=D(e,c),d=o,i;o>r?(i=e,o=D(e-1,c)):(i=e+1,d=D(e+1,c));const u=s-r+1,b=m((r-o)/29);let x=!1,g=b+11,h;return d-o>365&&(h=O(o,c),b>=h&&(g=b+10,b==h&&(x=!0))),g>12&&(g=g-12),g>=11&&b<4&&(i-=1),{lunarDay:u,lunarMonth:g,lunarYear:i,lunarLeap:x}},G=(t,a,e,c,s)=>{let l,r;a<11?(l=D(e-1,s),r=D(e,s)):(l=D(e,s),r=D(e+1,s));const o=m(.5+(l-2415021076998695e-9)/29.530588853);let d=a-11;d<0&&(d+=12);let i,u;if(r-l>365){if(i=O(l,s),u=i-2,u<0&&(u+=12),c&&a!=u)return{day:0,month:0,year:0};(c||d>=i)&&(d+=1)}const b=N(o+d,s);return P(b+t-1)},K=["Canh","T√¢n","Nh√¢m","Qu√Ω","Gi√°p","·∫§t","B√≠nh","ƒêinh","M·∫≠u","K·ª∑"],J=["Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi"],q=t=>({can:K[t%10],chi:J[t%12]}),V=(t,a,e,c=7)=>{const{lunarDay:s,lunarMonth:l,lunarYear:r,lunarLeap:o}=z(t,a,e,c),{can:d,chi:i}=q(r);return{day:s,month:l,year:r,leap:o,lunarDate:s,lunarMonth:l,lunarYear:r,can:d,chi:i}},Q=(t,a,e,c=!1,s=7)=>G(t,a,e,c,s),U=["CN","T2","T3","T4","T5","T6","T7"],k=["Ch·ªß Nh·∫≠t","Th·ª© Hai","Th·ª© Ba","Th·ª© T∆∞","Th·ª© NƒÉm","Th·ª© S√°u","Th·ª© B·∫£y"],X=Array.from({length:12},(t,a)=>`Th√°ng ${a+1}`),Z={T√Ω:"Chu·ªôt üê≠",S·ª≠u:"Tr√¢u üêÉ",D·∫ßn:"H·ªï üêÖ",M√£o:"M√®o üêà",Th√¨n:"R·ªìng üêâ",T·ªµ:"R·∫Øn üêç",Ng·ªç:"Ng·ª±a üêé",M√πi:"D√™ üêê",Th√¢n:"Kh·ªâ üêí",D·∫≠u:"G√† üêì",Tu·∫•t:"Ch√≥ üêï",H·ª£i:"Heo üêñ"},v="w-full p-2.5 rounded-lg bg-slate-800/60 border border-slate-600/80 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 text-slate-100 transition-colors",ee=`${v} appearance-none bg-no-repeat bg-right`,$="w-full sm:w-auto bg-sky-500/20 hover:bg-sky-500/30 border border-sky-500/40 backdrop-blur-sm text-sky-200 font-semibold py-2.5 px-4 rounded-lg shadow-md transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",T=t=>V(t.getDate(),t.getMonth()+1,t.getFullYear()),j=t=>isNaN(t.getTime())?"N/A":`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`,te=({currentDate:t,onPrev:a,onNext:e,onGoToToday:c,onMonthChange:s,onYearChange:l})=>n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6 p-4 bg-slate-800/40 rounded-xl border border-slate-700/60",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-white/10 transition-colors","aria-label":"Th√°ng tr∆∞·ªõc",children:"‚Äπ"}),n.jsx("button",{onClick:c,className:"px-4 py-2 text-sm font-semibold bg-slate-700 hover:bg-slate-600 rounded-full transition-colors",children:"H√¥m nay"}),n.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-white/10 transition-colors","aria-label":"Th√°ng sau",children:"‚Ä∫"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("select",{value:t.getMonth(),onChange:r=>s(parseInt(r.target.value,10)),"aria-label":"Ch·ªçn th√°ng",className:`${ee} w-32`,style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`},children:X.map((r,o)=>n.jsx("option",{value:o,children:r},r))}),n.jsx("input",{type:"number",value:t.getFullYear(),onChange:r=>l(parseInt(r.target.value,10)),"aria-label":"Ch·ªçn nƒÉm",className:`${v} w-28`})]})]}),ae=({day:t,isToday:a,isCurrentMonth:e,isSelected:c,onClick:s})=>{const l=T(t),r=t.getDay()===0||t.getDay()===6,o=`relative h-24 w-full flex flex-col justify-start items-center p-2 rounded-lg cursor-pointer transition-colors duration-200 border
    ${e?"bg-slate-800/50 border-slate-700/50 hover:bg-slate-700/50":"bg-slate-900/30 border-slate-800/40 text-slate-600"}
    ${a?"border-sky-400 ring-1 ring-sky-400":""}
    ${c?"bg-sky-500/20 border-sky-500":""}
  `,d=`text-lg font-bold ${r&&e?"text-rose-400":"text-slate-200"}`,i=`${l.day===1?`1/${l.month}`:l.day}${l.leap?"*":""}`;return n.jsxs("div",{className:o,onClick:s,children:[n.jsx("span",{className:d,children:t.getDate()}),n.jsx("span",{className:`text-xs mt-1 ${l.day===1?"text-amber-300 font-bold":"text-slate-400"}`,children:i})]})},ne=({setSelectedDate:t})=>{const[a,e]=f.useState(new Date),c=f.useRef(new Date),s=o=>{c.current=o,t(o),e(new Date(a))},l=o=>{o>1e3&&o<9999&&e(new Date(o,a.getMonth(),1))},r=f.useMemo(()=>{const o=new Date;o.setHours(0,0,0,0);const d=[],i=a.getFullYear(),u=a.getMonth(),b=new Date(i,u,1),x=new Date(i,u+1,0),g=b.getDay();for(let p=g;p>0;p--)d.push({date:new Date(i,u,1-p),isCurrentMonth:!1});for(let p=1;p<=x.getDate();p++)d.push({date:new Date(i,u,p),isCurrentMonth:!0,isToday:new Date(i,u,p).getTime()===o.getTime()});const h=(d.length>35?42:35)-d.length;for(let p=1;p<=h;p++)d.push({date:new Date(i,u+1,p),isCurrentMonth:!1});return d},[a]);return n.jsxs("div",{children:[n.jsx(te,{currentDate:a,onPrev:()=>e(new Date(a.getFullYear(),a.getMonth()-1,1)),onNext:()=>e(new Date(a.getFullYear(),a.getMonth()+1,1)),onGoToToday:()=>{const o=new Date;e(o),c.current=o,t(o)},onMonthChange:o=>e(new Date(a.getFullYear(),o,1)),onYearChange:l}),n.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[U.map(o=>n.jsx("div",{className:"text-center font-bold text-slate-400 text-sm pb-2",children:o},o)),r.map(({date:o,isCurrentMonth:d,isToday:i},u)=>{var b;return n.jsx(ae,{day:o,isToday:!!i,isCurrentMonth:d,isSelected:((b=c.current)==null?void 0:b.getTime())===o.getTime(),onClick:()=>s(o)},u)})]})]})},se=({date:t})=>{const a=f.useMemo(()=>`${k[t.getDay()]}, ng√†y ${t.getDate()} th√°ng ${t.getMonth()+1} nƒÉm ${t.getFullYear()}`,[t]),e=f.useMemo(()=>{const c=T(t);return`T·ª©c ng√†y ${c.day} th√°ng ${c.month}${c.leap?" (nhu·∫≠n)":""} nƒÉm ${c.year} (${c.can} ${c.chi})`},[t]);return n.jsxs("div",{className:"text-center p-4 bg-slate-900/50 rounded-lg border border-slate-700/80 mt-6",children:[n.jsx("p",{className:"text-lg font-semibold text-white",children:a}),n.jsx("p",{className:"text-md text-sky-300",children:e})]})},le=()=>{const[t,a]=f.useState(""),[e,c]=f.useState(null),s=()=>{if(!t)return;const l=new Date(t);if(isNaN(l.getTime()))return;const r=new Date;r.setHours(0,0,0,0);const o=Math.floor((r.getTime()-l.getTime())/(1e3*60*60*24)),d=Math.floor(o/7),i=o*24,u=(7-l.getDay())%7;let b=0;o>=u&&(b=1+Math.floor((o-u)/7));const x=(E,H)=>new Date(E.getTime()+H*24*60*60*1e3),g=r.getFullYear()-l.getFullYear()-(r.getMonth()<l.getMonth()||r.getMonth()===l.getMonth()&&r.getDate()<l.getDate()?1:0),h=T(l),B=T(r).lunarYear-h.lunarYear;c({daysLived:o,weeksLived:d,hoursLived:i,sundaysPassed:b,gregorianAge:g,lunarAge:B,milestone1000:j(x(l,1e3)),milestone5000:j(x(l,5e3)),milestone10000:j(x(l,1e4)),milestone20000:j(x(l,2e4)),milestone30000:j(x(l,3e4)),birthDayOfWeek:k[l.getDay()],lunarBirthDate:`${h.day}/${h.month}/${h.lunarYear} (${h.can} ${h.chi})`,canChi:`${h.can} ${h.chi}`,zodiac:Z[h.chi]||"N/A"})};return n.jsx(S,{title:"Fun Facts Generator",icon:n.jsx(F,{}),children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center p-4 bg-slate-800/40 rounded-xl border border-slate-700/60 mb-6",children:[n.jsx("label",{htmlFor:"birthdate-input",className:"text-slate-300 font-medium whitespace-nowrap",children:"Nh·∫≠p ng√†y sinh c·ªßa b·∫°n:"}),n.jsx("input",{type:"date",id:"birthdate-input",value:t,onChange:l=>a(l.target.value),max:new Date().toISOString().split("T")[0],className:`${v} flex-grow`}),n.jsx("button",{onClick:s,className:`${$} w-full sm:w-auto`,children:"OK"})]}),e&&n.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 bg-slate-800/60 rounded-xl border border-slate-700/80",children:[n.jsx("h3",{className:"text-2xl font-bold text-white text-center mb-6",children:"üéâ Fun Facts V·ªÅ B·∫°n üéÇ"}),n.jsx("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[{label:"Tu·ªïi d∆∞∆°ng l·ªãch",value:`${e.gregorianAge} tu·ªïi`},{label:"Tu·ªïi √¢m l·ªãch (∆∞·ªõc t√≠nh)",value:`${e.lunarAge} tu·ªïi`},{label:"Can chi nƒÉm sinh",value:e.canChi},{label:"Con gi√°p",value:e.zodiac},{label:"Ng√†y sinh (√¢m l·ªãch)",value:e.lunarBirthDate},{label:"Sinh v√†o",value:e.birthDayOfWeek},{label:"S·ªë ng√†y ƒë√£ s·ªëng",value:`${e.daysLived.toLocaleString("vi-VN")} ng√†y`},{label:"S·ªë tu·∫ßn ƒë√£ s·ªëng",value:`${e.weeksLived.toLocaleString("vi-VN")} tu·∫ßn`},{label:"S·ªë gi·ªù ƒë√£ s·ªëng",value:`${e.hoursLived.toLocaleString("vi-VN")} gi·ªù`},{label:"S·ªë Ch·ªß Nh·∫≠t ƒë√£ qua",value:e.sundaysPassed.toLocaleString("vi-VN")},{label:"M·ªëc 1,000 ng√†y",value:e.milestone1000},{label:"M·ªëc 5,000 ng√†y",value:e.milestone5000},{label:"M·ªëc 10,000 ng√†y",value:e.milestone10000},{label:"M·ªëc 20,000 ng√†y",value:e.milestone20000},{label:"M·ªëc 30,000 ng√†y",value:e.milestone30000}].map(l=>n.jsxs("div",{className:"flex justify-between border-b border-slate-700/50 py-2",children:[n.jsx("dt",{className:"text-slate-400",children:l.label}),n.jsx("dd",{className:"text-white font-semibold text-right",children:l.value})]},l.label))})]})]})})},I=({title:t,children:a})=>n.jsxs("div",{className:"p-6 bg-slate-800/40 rounded-xl border border-slate-700/60 flex flex-col gap-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:t}),a]}),oe=()=>{const[t,a]=f.useState({day:new Date().getDate(),month:new Date().getMonth()+1,year:new Date().getFullYear()}),[e,c]=f.useState({day:1,month:1,year:2024,isLeap:!1}),[s,l]=f.useState(""),[r,o]=f.useState(""),d=()=>{try{const{day:u,month:b,year:x}=t,g=V(u,b,x);l(`Ng√†y ${g.day}/${g.month}/${g.year} ${g.leap?"(nhu·∫≠n)":""} (${g.can} ${g.chi})`)}catch{l("Ng√†y kh√¥ng h·ª£p l·ªá")}},i=()=>{try{const{day:u,month:b,year:x,isLeap:g}=e,h=Q(u,b,x,g);if(h.year===0)throw new Error("Invalid lunar date");const p=new Date(h.year,h.month-1,h.day);o(`${k[p.getDay()]}, ng√†y ${h.day}/${h.month}/${h.year}`)}catch{o("Ng√†y kh√¥ng h·ª£p l·ªá")}};return n.jsx(S,{title:"Date Converter",icon:n.jsx(A,{}),children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[n.jsxs(I,{title:"D∆∞∆°ng sang √Çm",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx("input",{type:"number",placeholder:"Ng√†y",value:t.day,onChange:u=>a({...t,day:+u.target.value}),className:v}),n.jsx("input",{type:"number",placeholder:"Th√°ng",value:t.month,onChange:u=>a({...t,month:+u.target.value}),className:v}),n.jsx("input",{type:"number",placeholder:"NƒÉm",value:t.year,onChange:u=>a({...t,year:+u.target.value}),className:v})]}),n.jsx("button",{onClick:d,className:$,children:"Chuy·ªÉn ƒë·ªïi"}),s&&n.jsx("p",{className:"text-center font-semibold text-lg text-sky-300 bg-sky-900/20 p-3 rounded-lg",children:s})]}),n.jsxs(I,{title:"√Çm sang D∆∞∆°ng",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx("input",{type:"number",placeholder:"Ng√†y",value:e.day,onChange:u=>c({...e,day:+u.target.value}),className:v}),n.jsx("input",{type:"number",placeholder:"Th√°ng",value:e.month,onChange:u=>c({...e,month:+u.target.value}),className:v}),n.jsx("input",{type:"number",placeholder:"NƒÉm",value:e.year,onChange:u=>c({...e,year:+u.target.value}),className:v})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none text-slate-300 hover:text-white transition-colors",children:[n.jsx("input",{type:"checkbox",id:"isLeap",checked:e.isLeap,onChange:u=>c({...e,isLeap:u.target.checked}),className:"h-4 w-4 rounded bg-slate-600 border-white/50 text-white focus:ring-white"}),"Th√°ng nhu·∫≠n"]}),n.jsx("button",{onClick:i,className:$,children:"Chuy·ªÉn ƒë·ªïi"}),r&&n.jsx("p",{className:"text-center font-semibold text-lg text-sky-300 bg-sky-900/20 p-3 rounded-lg",children:r})]})]})})},ie=()=>{const[t,a]=f.useState("calendar"),[e,c]=f.useState(new Date),s=[{id:"calendar",label:"L·ªãch Th√°ng",icon:L},{id:"funfacts",label:"Fun Facts",icon:F},{id:"converter",label:"Chuy·ªÉn ƒê·ªïi",icon:A}],l=()=>{switch(t){case"calendar":return n.jsxs(S,{title:"L·ªãch √Çm D∆∞∆°ng",icon:n.jsx(L,{}),children:[n.jsx(ne,{setSelectedDate:c}),e&&n.jsx(se,{date:e})]});case"funfacts":return n.jsx(le,{});case"converter":return n.jsx(oe,{});default:return null}};return n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"flex space-x-1 bg-slate-800/40 p-1.5 rounded-full border border-slate-700",children:s.map(r=>n.jsxs("button",{onClick:()=>a(r.id),className:`relative flex items-center gap-x-2 w-full sm:w-auto px-4 py-2 text-sm font-semibold rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${t===r.id?"text-white":"text-slate-300 hover:text-white"}`,children:[t===r.id&&n.jsx(C.div,{layoutId:"lunar-calendar-bubble",className:"absolute inset-0 bg-slate-700 rounded-full",transition:{type:"spring",stiffness:300,damping:25}}),n.jsx(r.icon,{className:"relative z-10 w-5 h-5"}),n.jsx("span",{className:"relative z-10",children:r.label})]},r.id))})}),n.jsx(R,{mode:"wait",children:n.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:l()},t)})]})};export{ie as default};
