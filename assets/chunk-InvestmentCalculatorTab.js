import{j as e,r as b,m as S,M as Ne,i as Te,I as Ie,Q as ne,_ as ee}from"./app.js";import{S as G}from"./chunk-Section.js";import{R as Ce,L as Ee,C as Ve,X as Se,Y as Ye,T as Fe,a as Re,b as te}from"./chunk-LineChart.js";const Pe=({active:u,payload:p,label:d})=>{if(u&&p&&p.length){const y=c=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(c);return e.jsxs("div",{className:"p-4 bg-slate-800/80 backdrop-blur-sm rounded-lg shadow-xl border border-slate-600",children:[e.jsx("p",{className:"label font-bold text-slate-200",children:`Year ${d}`}),e.jsx("p",{className:"intro text-sm text-cyan-400",children:`Total Value: ${y(p[0].value)}`}),e.jsx("p",{className:"desc text-sm text-slate-400",children:`Principal: ${y(p[1].value)}`})]})}return null},Me=({data:u})=>{const p="#94a3b8",d="#334155",y=c=>c>=1e9?`${(c/1e9).toFixed(1)}B`:c>=1e6?`${(c/1e6).toFixed(0)}M`:c>=1e3?`${(c/1e3).toFixed(0)}K`:c.toString();return e.jsxs("div",{className:"mt-8 p-4 bg-black/10 backdrop-blur-sm rounded-lg border border-white/10",children:[e.jsx("h3",{className:"text-xl font-semibold text-white tracking-tight mb-6 text-center",children:"Investment Growth Over Time"}),e.jsx(Ce,{width:"100%",height:400,children:e.jsxs(Ee,{data:u,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(Ve,{strokeDasharray:"3 3",stroke:d}),e.jsx(Se,{dataKey:"year",stroke:p,tick:{fontSize:12}}),e.jsx(Ye,{stroke:p,tick:{fontSize:12},tickFormatter:y}),e.jsx(Fe,{content:e.jsx(Pe,{})}),e.jsx(Re,{wrapperStyle:{color:"#cbd5e1"}}),e.jsx(te,{type:"monotone",dataKey:"totalValue",name:"Total Value",stroke:"#38bdf8",strokeWidth:2,dot:{r:4},activeDot:{r:8}}),e.jsx(te,{type:"monotone",dataKey:"principal",name:"Principal Contributed",stroke:"#64748b",strokeWidth:2,strokeDasharray:"5 5"})]})})]})},P=({label:u,value:p,isPrimary:d=!1,tooltip:y})=>e.jsxs("div",{className:`flex justify-between items-center py-2 ${d?"text-lg":"text-sm"}`,children:[e.jsxs("span",{className:`${d?"font-semibold text-white":"text-slate-400"} flex items-center`,children:[u,y&&e.jsx("span",{className:"ml-1.5 cursor-help",title:y,children:e.jsx(ne,{className:"w-3.5 h-3.5 text-slate-500"})})]}),e.jsx("strong",{className:`${d?"text-white font-bold":"text-slate-200 font-medium"}`,children:p})]}),C=({title:u,enExplanation:p,viExplanation:d,enExample:y,viExample:c})=>e.jsxs("div",{className:"py-3 border-b border-slate-700/80 last:border-b-0",children:[e.jsx("h4",{className:"text-md font-semibold text-white mb-1.5",children:u}),e.jsxs("div",{className:"pl-1",children:[e.jsxs("p",{className:"text-sm text-slate-300",children:[e.jsx("strong",{className:"text-slate-100",children:"EN:"})," ",p," ",e.jsx("br",{}),e.jsxs("em",{className:"text-slate-500 text-xs",children:["Example: ",y]})]}),e.jsxs("p",{className:"text-sm text-slate-300 mt-1.5",children:[e.jsx("strong",{className:"text-slate-100",children:"VI:"})," ",d," ",e.jsx("br",{}),e.jsxs("em",{className:"text-slate-500 text-xs",children:["Ví dụ: ",c]})]})]})]}),De=()=>{const[u,p]=b.useState("futureValue"),[d,y]=b.useState(""),[c,ae]=b.useState(""),[M,se]=b.useState("monthly"),[E,re]=b.useState("end"),[A,ie]=b.useState(""),[q,le]=b.useState(""),[D,oe]=b.useState(""),[Y,ue]=b.useState(""),[F,L]=b.useState([]),[i,V]=b.useState(null),[z,ce]=b.useState([]),[H,de]=b.useState(!1),[me,he]=b.useState(0),f=(t,a="₫")=>isNaN(t)?`0 ${a}`:t.toLocaleString("vi-VN",{minimumFractionDigits:0,maximumFractionDigits:0})+` ${a}`,h=t=>{const a=Number(t.replace(/\./g,"").replace(",","."));return isNaN(a)?0:a},W=t=>a=>{const n=a.target.value.replace(/[^0-9]/g,"");if(n==="")t("");else try{const o=BigInt(n),r=new Intl.NumberFormat("vi-VN").format(o);t(r)}catch{t(n)}V(null)},O=(t,a=!1,n=!1)=>o=>{let r=o.target.value;const x=n?/[^0-9.,-]/g:/[^0-9.,]/g;if(r=r.replace(x,""),n&&r.lastIndexOf("-")>0&&(r="-"+r.replace(/-/g,"")),a)r=r.replace(/[.,]/g,"");else{const m=r.split(/[.,]/);m.length>2&&(r=m[0]+"."+m.slice(1).join(""))}t(r),V(null)},pe=(t,a)=>{L(n=>n.map(o=>{if(o.id===t){let r=a.replace(/[^0-9]/g,"");return{...o,yearInput:r}}return o})),V(null)},xe=(t,a)=>{L(n=>n.map(o=>{if(o.id===t){const r=a.replace(/[^0-9]/g,"");if(r==="")return{...o,amountInput:""};try{const x=BigInt(r),m=new Intl.NumberFormat("vi-VN").format(x);return{...o,amountInput:m}}catch{return{...o,amountInput:r}}}return o})),V(null)},K=()=>{const t=h(d),a=h(c),n=parseFloat(A.replace(",",".")),o=parseFloat(Y.replace(",",".")),r=parseInt(q,10),x=h(D);if(t<0)return"Initial investment must be non-negative.";if(a<0)return"Periodic contribution must be non-negative.";if(isNaN(n))return"Annual interest rate is required and must be a number.";if(n<-50||n>1e3)return"Annual interest rate seems too extreme (-50% to 1000%).";if(u==="futureValue"){if(isNaN(r)||r<=0||!Number.isInteger(r))return"Investment period must be a positive integer (years).";if(r>100)return"Investment period for future value calculation seems too long (max 100 years)."}else{if(x<=0&&t<=0)return"Target future value must be a positive number.";if(x<=t&&t>0)return"Target future value must be greater than initial investment if initial is positive."}if(Y!==""&&(isNaN(o)||o<-50||o>100))return"Expected inflation rate, if entered, must be a reasonable number (-50% to 100%).";const m=u==="futureValue"?r:200;for(const l of F){const s=parseInt(l.yearInput,10),g=h(l.amountInput);if(isNaN(s)||s<=0||s>m)return`Lump sum event year must be between 1 and ${m}.`;if(l.amountInput===""||isNaN(g)||g<=0)return"Lump sum event amount must be a positive number."}return t===0&&a===0&&n>0&&F.filter(l=>l.type==="contribution").length===0?"Investment requires an initial amount, periodic contributions, or at least one lump sum contribution if interest is expected.":n===0&&t===0&&a===0&&F.length===0&&u==="futureValue"?"Please enter some values to calculate for future value.":u==="timeToTarget"&&x>t&&a<=0&&n<=0&&!F.some(l=>l.type==="contribution")?"Target may be unreachable with no contributions and no positive interest rate.":null},ge=()=>{const t=`event-${me}`;L(a=>[...a,{id:t,yearInput:"",type:"contribution",amountInput:""}]),he(a=>a+1),V(null)},be=t=>{L(a=>a.filter(n=>n.id!==t)),V(null)},fe=(t,a)=>{L(n=>n.map(o=>o.id===t?{...o,type:a}:o)),V(null)},Q=(t,a)=>{const n=h(d),o=h(c),r=parseFloat(A.replace(",","."))/100,x=F.map(w=>({year:parseInt(w.yearInput,10),type:w.type,amount:h(w.amountInput)})),m=[];let l=n,s=0,g=0,j=0,k=0,B=!1;if(a!==void 0&&n>=a)return B=!0,{breakdown:[{year:0,startingBalance:0,regularContributionsThisYear:n,lumpSumAdditionsThisYear:0,lumpSumWithdrawalsThisYear:0,interestThisYear:0,endingBalance:n}],finalBalance:n,yearsTaken:0,targetMet:!0,totalPrincipal:n,totalInterest:0};for(let w=1;w<=t;w++){k=w;const R=l;let T=0,I=0;const X=M==="monthly"?12:M==="quarterly"?4:1,we=r/X;for(let v=1;v<=X;v++){E==="beginning"&&(l+=o);const Z=l*we;l+=Z,T+=Z,E==="end"&&(l+=o),I+=o}s+=I;const ke=x.filter(v=>v.year===w);let _=0,J=0;if(ke.forEach(v=>{v.type==="contribution"?(l+=v.amount,_+=v.amount,g+=v.amount):(l-=v.amount,J+=v.amount,j+=v.amount)}),l=Math.round(l),m.push({year:w,startingBalance:R,regularContributionsThisYear:I,lumpSumAdditionsThisYear:_,lumpSumWithdrawalsThisYear:J,interestThisYear:Math.round(T),endingBalance:l}),a!==void 0&&l>=a){B=!0;break}}const N=n+s+g-j,$=l-N;return{breakdown:m,finalBalance:l,yearsTaken:k,targetMet:B,totalPrincipal:N,totalInterest:$}},ve=()=>{const t=K();if(t){ee.error(t);return}const a=new Promise((n,o)=>{setTimeout(()=>{try{const r=Y===""?0:parseFloat(Y.replace(",","."))/100;let x=[],m=h(d);if(x.push({year:0,totalValue:m,principal:m}),u==="futureValue"){const l=parseInt(q,10),s=Q(l);s.breakdown.forEach(k=>{m+=k.regularContributionsThisYear+k.lumpSumAdditionsThisYear-k.lumpSumWithdrawalsThisYear,x.push({year:k.year,totalValue:k.endingBalance,principal:m})});const g=s.finalBalance/Math.pow(1+r,l),j=g-s.totalPrincipal;V({futureValue:s.finalBalance,totalPrincipalContributed:Math.round(s.totalPrincipal),totalInterestEarned:Math.round(s.totalInterest),futureValueReal:Math.round(g),totalInterestEarnedReal:Math.round(j),breakdown:s.breakdown,investmentPeriodYears:l})}else{const l=h(D),s=Q(200,l);let g=s.yearsTaken,j=0;if(s.targetMet){const N=h(d),$=h(c),w=parseFloat(A.replace(",","."))/100;if(s.yearsTaken===0)g=0,j=0;else{g=s.yearsTaken-1;let R=s.yearsTaken===1?N:s.breakdown[s.yearsTaken-2].endingBalance;for(let T=1;T<=12;T++){let I=0;if(M==="monthly"?I=$:M==="quarterly"?(E==="beginning"&&T%3===1||E==="end"&&T%3===0)&&(I=$):M==="annually"&&(E==="beginning"&&T===1||E==="end"&&T===12)&&(I=$),E==="beginning"&&(R+=I),R+=R*(w/12),E==="end"&&(R+=I),R>=l){j=T;break}}j===12&&(g++,j=0)}}s.breakdown.forEach(N=>{m+=N.regularContributionsThisYear+N.lumpSumAdditionsThisYear-N.lumpSumWithdrawalsThisYear,x.push({year:N.year,totalValue:N.endingBalance,principal:m})});const k=s.targetMet?g+j/12:s.yearsTaken,B=s.finalBalance/Math.pow(1+r,k),U=B-s.totalPrincipal;V({futureValue:s.finalBalance,totalPrincipalContributed:Math.round(s.totalPrincipal),totalInterestEarned:Math.round(s.totalInterest),futureValueReal:Math.round(B),totalInterestEarnedReal:Math.round(U),breakdown:s.breakdown,investmentPeriodYears:s.yearsTaken,targetReached:s.targetMet,calculatedYearsToTarget:g,calculatedMonthsToTarget:j})}ce(x),n()}catch(r){o(r)}},500)});ee.promise(a,{loading:"Calculating investment...",success:"Calculation complete!",error:"An error occurred during calculation."})},ye=()=>{const t=c!==""||F.some(n=>n.amountInput!==""&&n.type==="contribution"),a=A!=="";return u==="futureValue"?a&&q!==""&&(t||h(d)>0||h(c)>0):a&&D!==""&&(t||h(d)>0||h(c)>0)},je=()=>{de(t=>!t)};return e.jsxs(e.Fragment,{children:[e.jsx(G,{title:"Investment Growth Calculator",icon:e.jsx(Ie,{}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Calculation Mode"}),e.jsxs("div",{className:"flex space-x-2 sm:space-x-4 bg-slate-800/40 p-1.5 rounded-full",children:[e.jsxs(S.button,{onClick:()=>p("futureValue"),className:`relative w-1/2 py-2 text-sm font-semibold rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${u==="futureValue"?"text-white":"text-slate-300 hover:bg-slate-700/50"}`,children:[u==="futureValue"&&e.jsx(S.div,{layoutId:"invest-bubble",className:"absolute inset-0 bg-slate-700 rounded-full",transition:{type:"spring",stiffness:300,damping:25}}),e.jsx("span",{className:"relative z-10",children:"Future Value"})]}),e.jsxs(S.button,{onClick:()=>p("timeToTarget"),className:`relative w-1/2 py-2 text-sm font-semibold rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${u==="timeToTarget"?"text-white":"text-slate-300 hover:bg-slate-700/50"}`,children:[u==="timeToTarget"&&e.jsx(S.div,{layoutId:"invest-bubble",className:"absolute inset-0 bg-slate-700 rounded-full",transition:{type:"spring",stiffness:300,damping:25}}),e.jsx("span",{className:"relative z-10",children:"Time to Target"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"initialInvestment",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Initial Investment (VND)"}),e.jsx("input",{type:"text",id:"initialInvestment",value:d,onChange:W(y),placeholder:"e.g., 50.000.000",className:"w-full p-3 rounded-lg bg-slate-800/60 border border-slate-600/80 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 text-slate-100",inputMode:"text","aria-label":"Initial investment amount in VND"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"periodicContribution",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Periodic Contribution (VND)"}),e.jsx("input",{type:"text",id:"periodicContribution",value:c,onChange:W(ae),placeholder:"e.g., 1.000.000",className:"w-full p-3 rounded-lg bg-slate-800/60 border border-slate-600/80 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 text-slate-100",inputMode:"text","aria-label":"Periodic contribution amount in VND"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contributionFrequency",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Contribution Frequency"}),e.jsxs("select",{id:"contributionFrequency",value:M,onChange:t=>se(t.target.value),className:"w-full py-3 pl-3 pr-10 rounded-lg bg-slate-800/60 border border-slate-600/80 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 text-slate-100 appearance-none bg-no-repeat bg-right",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`},"aria-label":"Frequency of periodic contributions",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"annually",children:"Annually"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contributionTiming",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Contribution Timing"}),e.jsxs("select",{id:"contributionTiming",value:E,onChange:t=>re(t.target.value),className:"w-full py-3 pl-3 pr-10 rounded-lg bg-slate-800/60 border border-slate-600/80 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 text-slate-100 appearance-none bg-no-repeat bg-right",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`},"aria-label":"Timing of periodic contributions (beginning or end of period)",children:[e.jsx("option",{value:"end",children:"End of Period"}),e.jsx("option",{value:"beginning",children:"Beginning of Period"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"annualInterestRate",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Expected Annual Interest Rate (%)"}),e.jsx("input",{type:"text",id:"annualInterestRate",value:A,onChange:O(ie,!1,!0),placeholder:"e.g., 7.5 or -2 for loss",className:"w-full p-3 rounded-lg bg-slate-800/60 border border-slate-600/80 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 text-slate-100",inputMode:"decimal","aria-label":"Expected annual interest rate as a percentage"})]}),u==="futureValue"?e.jsxs("div",{children:[e.jsx("label",{htmlFor:"investmentPeriod",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Investment Period (Years)"}),e.jsx("input",{type:"text",id:"investmentPeriod",value:q,onChange:O(le,!0),placeholder:"e.g., 10",className:"w-full p-3 rounded-lg bg-slate-800/60 border border-slate-600/80 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 text-slate-100",inputMode:"numeric","aria-label":"Investment period in years"})]}):e.jsxs("div",{children:[e.jsx("label",{htmlFor:"targetFutureValue",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Target Future Value (VND)"}),e.jsx("input",{type:"text",id:"targetFutureValue",value:D,onChange:W(oe),placeholder:"e.g., 1.000.000.000",className:"w-full p-3 rounded-lg bg-slate-800/60 border border-slate-600/80 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 text-slate-100",inputMode:"text","aria-label":"Target future value in VND"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"expectedInflationRate",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Expected Annual Inflation Rate (%)"}),e.jsx("input",{type:"text",id:"expectedInflationRate",value:Y,onChange:O(ue,!1,!0),placeholder:"e.g., 2.5 (optional)",className:"w-full p-3 rounded-lg bg-slate-800/60 border border-slate-600/80 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 text-slate-100",inputMode:"decimal","aria-label":"Expected annual inflation rate as a percentage"})]}),u==="timeToTarget"&&e.jsx("div",{className:"md:col-span-1",children:" "})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-700/70",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"One-off Lump Sum Events"}),F.map((t,a)=>e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 gap-3 items-end mb-4 p-3 border border-slate-700 rounded-lg bg-slate-800/40",children:[e.jsxs("div",{className:"sm:col-span-1 text-sm text-slate-500 self-center hidden sm:block",children:["#",a+1]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:`eventYear-${t.id}`,className:"block text-xs font-medium text-slate-400 mb-0.5",children:"Year"}),e.jsx("input",{type:"text",id:`eventYear-${t.id}`,value:t.yearInput,onChange:n=>pe(t.id,n.target.value),placeholder:"e.g., 5",inputMode:"numeric",className:"w-full p-1.5 text-sm rounded-md bg-slate-700 border-slate-600/80 focus:ring-sky-400 focus:border-sky-400 text-slate-100"})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:`eventType-${t.id}`,className:"block text-xs font-medium text-slate-400 mb-0.5",children:"Type"}),e.jsxs("select",{id:`eventType-${t.id}`,value:t.type,onChange:n=>fe(t.id,n.target.value),className:"w-full py-1.5 pl-2 pr-8 text-sm rounded-md bg-slate-700 border-slate-600/80 focus:ring-sky-400 focus:border-sky-400 text-slate-100 appearance-none bg-no-repeat bg-right",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`},children:[e.jsx("option",{value:"contribution",children:"Contribution"}),e.jsx("option",{value:"withdrawal",children:"Withdrawal"})]})]}),e.jsxs("div",{className:"sm:col-span-4",children:[e.jsx("label",{htmlFor:`eventAmount-${t.id}`,className:"block text-xs font-medium text-slate-400 mb-0.5",children:"Amount (VND)"}),e.jsx("input",{type:"text",id:`eventAmount-${t.id}`,value:t.amountInput,onChange:n=>xe(t.id,n.target.value),placeholder:"e.g., 10.000.000",inputMode:"text",className:"w-full p-1.5 text-sm rounded-md bg-slate-700 border-slate-600/80 focus:ring-sky-400 focus:border-sky-400 text-slate-100"})]}),e.jsx("div",{className:"sm:col-span-2 flex justify-end",children:e.jsxs("button",{onClick:()=>be(t.id),title:"Remove this event",className:"p-1.5 text-red-500 hover:text-red-600 bg-red-100/10 hover:bg-red-200/20 text-red-400 hover:text-red-300 rounded-md transition-colors",children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsx("span",{className:"sr-only",children:"Remove event"})]})})]},t.id)),e.jsxs(S.button,{whileHover:{scale:1.03,boxShadow:"0 0 15px rgba(56, 189, 248, 0.2)",borderColor:"rgba(56, 189, 248, 0.4)"},whileTap:{scale:.97},onClick:ge,className:"flex items-center text-sm bg-sky-500/20 hover:bg-sky-500/30 border border-sky-500/40 backdrop-blur-sm text-sky-200 font-medium py-2 px-3 rounded-lg shadow-md transition-all duration-300",children:[e.jsx(Te,{className:"w-5 h-5 mr-1.5"})," Add Lump Sum Event"]})]}),e.jsx("div",{children:e.jsx(S.button,{onClick:ve,disabled:!ye(),whileHover:{scale:1.02,boxShadow:"0 0 15px rgba(56, 189, 248, 0.2)",borderColor:"rgba(56, 189, 248, 0.4)"},whileTap:{scale:.98},className:"w-full bg-sky-500/20 hover:bg-sky-500/30 border border-sky-500/40 backdrop-blur-sm text-sky-200 font-semibold py-3 px-4 rounded-lg shadow-md transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none text-base","aria-live":"polite",children:u==="futureValue"?"Calculate Investment Growth":"Calculate Time to Target"})})]})}),i&&!K()&&e.jsxs(G,{title:`Investment Growth Results${u==="timeToTarget"&&i.targetReached===!1&&i.investmentPeriodYears!==void 0&&i.investmentPeriodYears>0?` (Target Not Reached - Showing after ${i.investmentPeriodYears} Years)`:""}`,children:[e.jsxs("div",{className:"space-y-1 bg-slate-800/60 p-6 rounded-lg border border-slate-700 shadow-lg",children:[u==="futureValue"?e.jsx(P,{label:"Total Future Value (Nominal):",value:f(i.futureValue),isPrimary:!0}):i.targetReached!==void 0&&i.calculatedYearsToTarget!==void 0&&i.calculatedMonthsToTarget!==void 0?e.jsx(P,{label:i.targetReached?"Time to Reach Target:":"Time to Target (Not Reached):",value:`${i.calculatedYearsToTarget} years${i.calculatedMonthsToTarget>0?` and ${i.calculatedMonthsToTarget} months`:""}`,isPrimary:!0,tooltip:i.targetReached?`Target of ${f(h(D))} reached.`:`Target not reached within ${i.investmentPeriodYears||"specified"} years. Final value shown.`}):null,u==="timeToTarget"&&e.jsx(P,{label:"Final Value Achieved (Nominal):",value:f(i.futureValue),tooltip:"The value of the investment at the end of the calculated period."}),Y!==""&&e.jsx(P,{label:`Value (Real, After Inflation${u==="timeToTarget"&&i.investmentPeriodYears?` over ${i.investmentPeriodYears} years`:""}):`,value:f(i.futureValueReal),tooltip:"Value adjusted for the specified inflation rate, representing today's purchasing power."}),e.jsx(P,{label:"Total Principal Contributed:",value:f(i.totalPrincipalContributed),tooltip:"Sum of initial investment and all contributions (periodic & lump sum)."}),e.jsx(P,{label:"Total Interest Earned (Nominal):",value:f(i.totalInterestEarned)}),Y!==""&&e.jsx(P,{label:"Total Interest Earned (Real, After Inflation):",value:f(i.totalInterestEarnedReal),tooltip:"Interest earned adjusted for inflation, reflecting real growth over nominal principal."})]}),z.length>1&&e.jsx(Me,{data:z}),i.breakdown&&i.breakdown.length>0&&!(i.investmentPeriodYears===0&&i.breakdown.length===1&&i.breakdown[0].year===0&&i.breakdown[0].endingBalance===h(d))&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Year-by-Year Breakdown"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-700 shadow-md",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-700",children:[e.jsx("caption",{className:"sr-only",children:"Detailed year-by-year breakdown of investment growth."}),e.jsx("thead",{className:"bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Year"}),e.jsx("th",{scope:"col",className:"px-3 py-3 text-right text-xs font-medium text-white uppercase tracking-wider",children:"Starting Bal."}),e.jsx("th",{scope:"col",className:"px-3 py-3 text-right text-xs font-medium text-white uppercase tracking-wider",children:"Regular Contrib."}),e.jsx("th",{scope:"col",className:"px-3 py-3 text-right text-xs font-medium text-white uppercase tracking-wider",children:"Lump Sum Add."}),e.jsx("th",{scope:"col",className:"px-3 py-3 text-right text-xs font-medium text-white uppercase tracking-wider",children:"Lump Sum Withd."}),e.jsx("th",{scope:"col",className:"px-3 py-3 text-right text-xs font-medium text-white uppercase tracking-wider",children:"Interest Earned"}),e.jsx("th",{scope:"col",className:"px-3 py-3 text-right text-xs font-medium text-white uppercase tracking-wider",children:"Ending Bal."})]})}),e.jsx("tbody",{className:"bg-slate-800/70 divide-y divide-slate-700",children:i.breakdown.map(t=>t.year===0&&i.breakdown.length>1?null:e.jsxs("tr",{className:"hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-medium text-slate-200",children:t.year}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-slate-300 text-right",children:f(t.startingBalance)}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-slate-300 text-right",children:f(t.regularContributionsThisYear)}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-green-400 text-right",children:t.lumpSumAdditionsThisYear>0?f(t.lumpSumAdditionsThisYear):"-"}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-red-400 text-right",children:t.lumpSumWithdrawalsThisYear>0?f(t.lumpSumWithdrawalsThisYear):"-"}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-slate-300 text-right",children:f(t.interestThisYear)}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-semibold text-white text-right",children:f(t.endingBalance)})]},t.year))})]})})]})]}),e.jsxs(G,{title:"How to Use This Calculator",icon:e.jsx(ne,{}),children:[e.jsx(S.button,{whileHover:{scale:1.03,boxShadow:"0 0 15px rgba(56, 189, 248, 0.2)",borderColor:"rgba(56, 189, 248, 0.4)"},whileTap:{scale:.97},onClick:je,"aria-expanded":H,"aria-controls":"investment-instructions-content",className:"w-full sm:w-auto mb-4 bg-sky-500/20 hover:bg-sky-500/30 border border-sky-500/40 backdrop-blur-sm text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-300 text-sm",children:H?"Hide Instructions":"Show Instructions"}),H&&e.jsxs(S.div,{id:"investment-instructions-content",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-1 overflow-hidden bg-slate-800/60 p-4 rounded-lg border border-slate-700 shadow-inner",children:[e.jsx(C,{title:"Calculation Mode",enExplanation:"Choose 'Calculate Future Value' to see how much your investment might be worth after a set period. Choose 'Calculate Time to Target' to find out how long it might take to reach a specific investment goal (shown in years and months).",viExplanation:"Chọn 'Tính giá trị tương lai' để xem khoản đầu tư của bạn có thể trị giá bao nhiêu sau một khoảng thời gian nhất định. Chọn 'Tính thời gian đạt mục tiêu' để tìm hiểu xem có thể mất bao lâu để đạt được một mục tiêu đầu tư cụ thể (hiển thị theo năm và tháng).",enExample:"Select: Calculate Future Value OR Calculate Time to Target",viExample:"Chọn: Tính giá trị tương lai HOẶC Tính thời gian đạt mục tiêu"}),e.jsx(C,{title:"Initial Investment (VND)",enExplanation:"The amount of money you are starting your investment with. Enter 0 if you are starting with no initial amount.",viExplanation:"Số tiền ban đầu bạn dùng để bắt đầu đầu tư. Nhập 0 nếu bạn bắt đầu mà không có số tiền ban đầu.",enExample:"e.g., 50.000.000 or 0",viExample:"Ví dụ: 50.000.000 hoặc 0"}),e.jsx(C,{title:"Periodic Contribution (VND)",enExplanation:"The amount of money you plan to add to your investment regularly (e.g., monthly, quarterly, annually). Enter 0 if you are not making regular contributions.",viExplanation:"Số tiền bạn dự định thêm vào khoản đầu tư của mình một cách thường xuyên (ví dụ: hàng tháng, hàng quý, hàng năm). Nhập 0 nếu bạn không đóng góp thường xuyên.",enExample:"e.g., 1.000.000 or 0",viExample:"Ví dụ: 1.000.000 hoặc 0"}),e.jsx(C,{title:"Contribution Frequency",enExplanation:"How often you will make the periodic contributions. This applies if 'Periodic Contribution' is greater than 0.",viExplanation:"Tần suất bạn sẽ thực hiện các khoản đóng góp định kỳ. Điều này áp dụng nếu 'Đóng góp định kỳ' lớn hơn 0.",enExample:"Select: Monthly, Quarterly, or Annually",viExample:"Chọn: Hàng tháng, Hàng quý, hoặc Hàng năm"}),e.jsx(C,{title:"Periodic Contribution Timing",enExplanation:"Specify if contributions are made at the 'Beginning' or 'End' of each period (month, quarter, year). This affects interest calculation.",viExplanation:"Chỉ định xem các khoản đóng góp được thực hiện vào 'Đầu kỳ' hay 'Cuối kỳ' của mỗi giai đoạn (tháng, quý, năm). Điều này ảnh hưởng đến việc tính lãi.",enExample:"Select: End of Period OR Beginning of Period",viExample:"Chọn: Cuối kỳ HOẶC Đầu kỳ"}),e.jsx(C,{title:"Expected Annual Interest Rate (%)",enExplanation:"The anticipated yearly growth rate of your investment, as a percentage. Can be negative for losses. Example: 7.5 for 7.5%, or -2 for -2%.",viExplanation:"Tỷ lệ tăng trưởng hàng năm dự kiến của khoản đầu tư, dưới dạng phần trăm. Có thể là số âm nếu lỗ. Ví dụ: 7.5 cho 7,5%, hoặc -2 cho -2%.",enExample:"e.g., 7.5 (for 7.5%) or -2 (for -2%)",viExample:"Ví dụ: 7.5 (cho 7,5%) hoặc -2 (cho -2%)"}),e.jsx(C,{title:"Investment Period (Years) (for Future Value mode)",enExplanation:"The total number of years you plan to keep the investment growing. Used when 'Calculate Future Value' mode is selected. Must be a positive whole number.",viExplanation:"Tổng số năm bạn dự định giữ cho khoản đầu tư tăng trưởng. Được sử dụng khi chế độ 'Tính giá trị tương lai' được chọn. Phải là một số nguyên dương.",enExample:"e.g., 10 (for 10 years)",viExample:"Ví dụ: 10 (cho 10 năm)"}),e.jsx(C,{title:"Target Future Value (VND) (for Time to Target mode)",enExplanation:"The desired final amount for your investment. Used when 'Calculate Time to Target' mode is selected.",viExplanation:"Số tiền cuối cùng mong muốn cho khoản đầu tư của bạn. Được sử dụng khi chế độ 'Tính thời gian đạt mục tiêu' được chọn.",enExample:"e.g., 1.000.000.000",viExample:"Ví dụ: 1.000.000.000"}),e.jsx(C,{title:"Expected Annual Inflation Rate (%)",enExplanation:"The anticipated average annual rate of inflation over the investment period. Used to calculate 'real' returns (optional). Example: 2.5 for 2.5%.",viExplanation:"Tỷ lệ lạm phát trung bình hàng năm dự kiến trong suốt thời gian đầu tư. Dùng để tính toán lợi nhuận 'thực' (tùy chọn). Ví dụ: 2.5 cho 2,5%.",enExample:"e.g., 2.5 (for 2.5%) (optional)",viExample:"Ví dụ: 2.5 (cho 2,5%) (tùy chọn)"}),e.jsx(C,{title:"One-off Lump Sum Events",enExplanation:"Add any specific one-time contributions or withdrawals during the investment period. Specify the year, type (contribution/withdrawal), and amount for each event.",viExplanation:"Thêm bất kỳ khoản đóng góp hoặc rút tiền một lần cụ thể nào trong suốt thời gian đầu tư. Chỉ định năm, loại (đóng góp/rút tiền) và số tiền cho mỗi sự kiện.",enExample:"Year: 5, Type: Contribution, Amount: 20.000.000",viExample:"Năm: 5, Loại: Đóng góp, Số tiền: 20.000.000"})]})]})]})};export{De as default};
